// Tests the is_present variable for actions.
target C;
main reactor ActionIsPresent(offset:time(1 nsec), period:time(500 msec)) {
    logical action a;
    state success:bool(false);
    reaction(startup, a) -> a {=
        if (!a->is_present) {
            if (offset == 0) {
                printf("Hello World!\n");
                success = true;
            } else {
                lf_schedule(a, offset);
            }
        } else {
            printf("Hello World 2!\n");
            success = true;
        }
    =}
    reaction(shutdown) {=
        if (!success) {
            fprintf(stderr, "Failed to print 'Hello World'\n");
            exit(1);
        }
    =}
}
